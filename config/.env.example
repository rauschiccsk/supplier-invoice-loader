# Supplier Invoice Loader - Environment Variables
# Skopírujte tento súbor ako .env a vyplňte hodnoty pre zákazníka

# ============================================================================
# CUSTOMER CONFIGURATION
# ============================================================================

# Identifikácia zákazníka (bez medzier, napr. MAGERSTAV, ANDROS)
CUSTOMER_NAME=CUSTOMER_NAME_HERE

# Plný názov firmy pre ISDOC XML
CUSTOMER_FULL_NAME=Customer Company s.r.o.

# Environment (development, staging, production)
ENVIRONMENT=production

# ============================================================================
# NEX GENESIS API
# ============================================================================

# URL NEX Genesis API servera
# Keďže NEX Genesis beží na tom istom serveri, použite:
# - http://host.docker.internal:8080/api (Docker Desktop)
# - http://172.17.0.1:8080/api (Linux - Docker bridge IP)
# - http://localhost:8080/api (ak používate network_mode: host)
# - http://nex-genesis:8080/api (ak NEX beží v Dockeri na shared network)
NEX_GENESIS_API_URL=http://host.docker.internal:8080/api

# API kľúč pre NEX Genesis (TAJNÉ - nikdy necommitujte!)
NEX_GENESIS_API_KEY=nex_prod_change_me_secret_key

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# Email operátora ktorý posiela faktúry
OPERATOR_EMAIL=operator@customer.sk

# Automation email kam sa posielajú faktúry na spracovanie
AUTOMATION_EMAIL=automation-customer@isnex.ai

# Email pre systémové notifikácie a chyby
ALERT_EMAIL=support@icc.sk

# ============================================================================
# SMTP CONFIGURATION (pre posielanie emailov)
# ============================================================================

# SMTP server
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587

# SMTP prihlasovanie (použite App Password pre Gmail!)
SMTP_USER=automation@gmail.com
SMTP_PASSWORD=your_app_password_here

# Email odosielateľa
SMTP_FROM=noreply@icc.sk

# ============================================================================
# API SECURITY
# ============================================================================

# API kľúč pre FastAPI endpoints (generujte náhodný!)
# Generovať: python -c "import secrets; print(secrets.token_urlsafe(32))"
LS_API_KEY=ls_prod_change_me_random_key_abc123xyz789

# ============================================================================
# MONITORING & FEATURES
# ============================================================================

# Posielať denný sumár? (true/false)
SEND_DAILY_SUMMARY=true

# Povoliť heartbeat monitoring? (true/false)
HEARTBEAT_ENABLED=true

# ============================================================================
# DOCKER CONFIGURATION
# ============================================================================

# Port na ktorom bude bežať aplikácia
EXTERNAL_PORT=8000

# Časová zóna
TZ=Europe/Bratislava

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ============================================================================
# STORAGE PATHS (pre bind mount volumes)
# ============================================================================

# Cesty na host systéme kde sa budú ukladať dáta
# Predvolené hodnoty používajú relatívne cesty v projekte

# PDF súbory
HOST_PDF_PATH=./data/pdf

# XML súbory
HOST_XML_PATH=./data/xml

# Databáza
HOST_DB_PATH=./data/db

# Logy
HOST_LOGS_PATH=./logs

# ============================================================================
# BACKUP CONFIGURATION (optional)
# ============================================================================

# Rozpis zálohovania (cron format)
# Predvolené: každý deň o 2:00
BACKUP_SCHEDULE=0 2 * * *

# ============================================================================
# RESOURCE LIMITS (optional)
# ============================================================================

# Maximálna pamäť pre kontajner
MEMORY_LIMIT=2G

# Maximálne CPU
CPU_LIMIT=2

# ============================================================================
# SECURITY (pre vzdialený prístup z n8n servera)
# ============================================================================

# IP adresy ktoré môžu pristupovať k API (oddeľované čiarkou)
# Pridajte IP adresu vášho ICC/n8n servera
# Príklad: 147.232.10.20,10.0.0.0/8
ALLOWED_IPS=

# Verejná IP alebo doména servera (pre n8n workflows)
# Toto je adresa na ktorej bude API dostupné z internetu
PUBLIC_API_URL=http://customer.example.com:8000

# ============================================================================
# NOTES
# ============================================================================
#
# 1. NIKDY necommitujte .env súbor do Git!
# 2. Pre Gmail použite App Password, nie normálne heslo
#    - Zapnite 2FA: https://myaccount.google.com/security
#    - Generujte App Password: https://myaccount.google.com/apppasswords
#
# 3. Generovanie náhodných kľúčov:
#    Linux/Mac: openssl rand -hex 32
#    Python: python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# 4. Pre produkciu odporúčame:
#    - Použiť secrets management (HashiCorp Vault, Azure Key Vault)
#    - Nastav��ť HTTPS cez reverse proxy (nginx)
#    - Pravidelné zálohovanie databázy
#    - Monitoring (Prometheus, Grafana)
#
# 5. Testovanie konfigurácie:
#    docker-compose config  # Validácia docker-compose.yml
#    docker-compose up -d   # Spustenie v pozadí
#    docker logs invoice-loader  # Kontrola logov
#    curl http://localhost:8000/health  # Health check
#